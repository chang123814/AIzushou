<!--pages/index/index.wxml-->
<view class="container">
  <!-- ä¸»è¾“å…¥å’Œæ“ä½œåŒº -->
  <view class="main-area">
    <textarea class="prompt-input" value="{{subject}}" bindinput="handleSubjectInput" placeholder="åœ¨æ­¤è¾“å…¥ä¸»ä½“ä¸ç¯å¢ƒï¼Œä¾‹å¦‚ï¼ša cat in a forest"></textarea>
    <button class="copy-btn" bindtap="copyPrompt" disabled="{{translating}}">å¤åˆ¶è‹±æ–‡æç¤ºè¯</button>
    <button class="copy-btn" style="margin-top: 12rpx; background-color:#1c69d4;" bindtap="copyPromptZh" disabled="{{translating}}">å¤åˆ¶ä¸­æ–‡æç¤ºè¯</button>

    <view class="translate-status" wx:if="{{translating}}">ğŸ”„ æ­£åœ¨ç¿»è¯‘...</view>

    <!-- [é€»è¾‘é‡æ„] ä¸­è‹±æ–‡é¢„è§ˆåŒº -->
    <view class="preview-wrapper" wx:if="{{prompt_en || prompt_zh}}">
        <view class="preview-box">
            <view class="preview-title">ä¸­æ–‡é¢„è§ˆ</view>
            <view class="preview-content">{{prompt_zh}}</view>
        </view>
        <view class="preview-box">
            <view class="preview-title">è‹±æ–‡é¢„è§ˆ (æœ€ç»ˆå¤åˆ¶å†…å®¹)</view>
            <view class="preview-content">{{prompt_en}}</view>
        </view>
    </view>

  </view>

  <!-- æç¤ºè¯åˆ†ç±» -->
  <view class="category-section-grid" wx:if="{{pickerData && pickerData.mediums}}">
    <view class="category" wx:for="{{categories}}" wx:key="key">
      <view class="category-title">{{item.title}}</view>
      <picker bindchange="handlePickerChange" data-category="{{item.key}}" value="{{selectedIndexes[item.key]}}" range="{{pickerData[item.key]}}" range-key="name_zh">
        <view class="picker">
          {{pickerData[item.key][selectedIndexes[item.key]].name_zh}}
        </view>
      </picker>
    </view>
  </view>
</view>
